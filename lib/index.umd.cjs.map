{"version":3,"file":"index.umd.cjs","sources":["../src/index.ts"],"sourcesContent":["/**\n * 设置localStorage数据，item值非json对象，请直接localStorage.setItem\n * @param {string} item 键名\n * @param {any} data 键值\n * @return {*}\n */\nexport function setStorage(item: string, data: any) {\n  if (!item || !data) return;\n  localStorage.setItem(item, JSON.stringify(data));\n}\n/**\n * 获取localStorage数据，item值非json对象，请直接localStorage.setItem\n * @param item 键名\n */\nexport function getStorage(item: string) {\n  if (!item) return null;\n  const localdata = localStorage.getItem(item);\n  if (localdata !== null) {\n    try {\n      return JSON.parse(localdata);\n    } catch (e) {\n      return localdata;\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * 打开新的标签页\n * @param url 地址\n */\nexport function openNewtab(url: string) {\n  const a = document.createElement('a');\n  a.setAttribute('href', url);\n  a.setAttribute('target', '_blank');\n  a.setAttribute('id', 'camnpr');\n  document.body.appendChild(a);\n  a.click();\n}\n\n/**\n * 设置cookie\n * @param name key\n * @param value 值\n * @param exdays 过期时间 天\n */\nexport function setCookie(name: string, value: any, exdays?: any) {\n  if (exdays === void 0) {\n    exdays = 365;\n  }\n  const d = new Date();\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n  const expires = 'expires=' + d.toUTCString();\n  document.cookie = name + '=' + value + '; ' + expires;\n}\n\n/**\n * 获取cookie\n * @param  name key\n */\nexport function getCookie(name: string) {\n  const _name = name + '=';\n  const ca = document.cookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == ' ') c = c.substring(1);\n    if (c.indexOf(_name) != -1) return c.substring(_name.length, c.length);\n  }\n  return '';\n}\n\n/**\n * 清除cookie\n * @param name key\n */\nexport function clearCookie(name: string) {\n  setCookie(name, '', -1);\n}\n\n/**\n * 遍历目标对象的每个key分别，从源对象获取数据并赋值，仅支持{}对象。\n * @param {object} target 目标对象\n * @param {object} source 源对象\n * @param {Array<string>} exclude  需要排除复制的key数组\n */\nexport function allGive(target: object, source: object, exclude: string[] = []) {\n  if (!isObject(target) || !isObject(source)) return;\n  Object.keys(target).forEach(function (key) {\n    if (source[key] !== undefined && !exclude.includes(key)) {\n      target[key] = source[key];\n    }\n  });\n}\n\n/**\n * 遍历目标数组 从源对象获取数据并赋值。\n * @param target array 目标对象\n * @param source {} 源对象\n * @param key 关联字段key\n * @param content 要修改的字段 字段名string 或数组\n */\nexport function arrayGive(targrt: any, sources: any, key: string = 'prop', content: any = 'content') {\n  targrt.forEach(function (element: any) {\n    if (element.hasOwnProperty(key)) {\n      if (isArray(content)) {\n        content.forEach(function (contentItem: any) {\n          if (element.hasOwnProperty(contentItem)) {\n            element[contentItem] = sources[element[key]];\n          }\n        });\n      } else {\n        if (element.hasOwnProperty(content)) {\n          element[content] = sources[element[key]];\n        }\n      }\n    }\n  });\n}\n\n/**\n * 生成随机字符串\n * @param len 生成的字符串长度(不包含时间戳的长度)\n * @param time 是否要在生成的字符串前面加时间戳  默认为true\n */\nexport function randomName(len?: number, time: boolean = true) {\n  if (len === void 0) {\n    len = 16;\n  }\n  if (time === void 0) {\n    time = true;\n  }\n  const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n  const maxPos = chars.length;\n  let str = '';\n  for (let i = 0; i < len; i++) {\n    str += chars.charAt(Math.floor(Math.random() * maxPos));\n  }\n  if (time) {\n    return new Date().getTime() + str;\n  } else {\n    return str;\n  }\n}\n\n/**\n * 是否为字符串\n * @param o 入参\n */\nexport function isString(o: any) {\n  return Object.prototype.toString.call(o).slice(8, -1) === 'String';\n}\n\n/**\n * 是否为null\n * @param o 入参\n */\nexport function isNull(o: any) {\n  return Object.prototype.toString.call(o).slice(8, -1) === 'Null';\n}\n/**\n * 是否为undefined\n * @param o 入参\n */\nexport function isUndefined(o: any) {\n  return Object.prototype.toString.call(o).slice(8, -1) === 'Undefined';\n}\n\n/**\n * 是否为数组\n * @param o 入参\n */\nexport function isArray(o: any) {\n  return Object.prototype.toString.call(o).slice(8, -1) === 'Array';\n}\n\n/**\n * 是否为对象\n * @param o 入参\n */\nexport function isObject(o: any) {\n  return Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\n/**\n * 是否为数字\n * @param o 入参\n */\nexport function isNumber(o: any) {\n  return Object.prototype.toString.call(o).slice(8, -1) === 'Number';\n}\n\n/**\n * 下划线转换驼峰\n * @param {string} str 字符串\n */\nexport function underlineToHump(str: string): string {\n  // 如果首字母是_，执行 replace 时会多一个_，这里需要去掉\n  if (str.slice(0, 1) === '_') {\n    str = str.slice(1);\n  }\n  return str.replace(/([^_])_+([^_])/g, function ($0, $1, $2) {\n    return $1 + $2.toUpperCase();\n  });\n}\n\n/**\n * 初始化原始对象\n * @param obj {object} 对象数据\n * @param exclude {array} 不需初始化的字段\n * @param defaultValue {array} 需要指定默认值的属性对象\n * @returns {void}\n * 使用方法 objInit(obj)  objInit(obj, ['age', 'name']) objInit(obj, ['age', 'name'], { age: 20 })\n */\nexport const objInit = (obj: any, exclude?: any, defaultValue?: any) => {\n  for (let key in obj) {\n    if (!exclude || !exclude.includes(key)) {\n      if (defaultValue && defaultValue[key]) {\n        obj[key] = defaultValue[key];\n        return;\n      }\n      switch (typeof obj[key]) {\n        case 'string':\n          obj[key] = '';\n          break;\n        case 'number':\n          obj[key] = null;\n          break;\n        case 'object':\n          if (obj[key] instanceof Array) {\n            obj[key] = [];\n          } else {\n            objInit(obj[key], exclude);\n          }\n          break;\n        case 'boolean':\n          obj[key] = true;\n          break;\n      }\n    }\n  }\n  return obj;\n};\n\n/**\n * 深拷贝\n * @param obj {any} 对象\n * @returns 深拷贝后的对象\n */\nexport const deepClone = (obj: any) => {\n  return JSON.parse(JSON.stringify(obj));\n};\n"],"names":["setStorage","item","data","getStorage","localdata","openNewtab","url","a","setCookie","name","value","exdays","d","expires","getCookie","_name","ca","i","c","clearCookie","allGive","target","source","exclude","isObject","key","arrayGive","targrt","sources","content","element","isArray","contentItem","randomName","len","time","chars","maxPos","str","isString","o","isNull","isUndefined","isNumber","underlineToHump","$0","$1","$2","objInit","obj","defaultValue","deepClone"],"mappings":"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"}